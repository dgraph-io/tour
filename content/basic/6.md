+++
date = "2017-04-26T22:36:47+10:00"
next = "/basic/7"
prev = "/basic/5"
title = "Functions and filtering"
weight = 6
course = 2
courseName = "Basic"
+++

Nodes are filtered based on functions applied to the node's outgoing edges.

So far the queries have only applied a filter to the top level nodes, but
filters can be applied to any node in the query.

Note the syntax difference between filtering at the root of a query and
filtering on internal blocks.

There are many functions for filtering, for example:

- `allofterms(edge_name, "term1 ... termN")`: matches nodes with an outgoing
  `string` edge `edge_name` where the string contains all listed terms.

- `anyofterms(edge_name, "term1 ... termN")`: As with `allofterms`, but matches
  at least one term.

Comparison functions that can be applied to edges of types: `int`,
  `float`, `string` and `date`:
  - `eq(edge_name, value)`: equal to
  - `ge(edge_name, value)`: greater than or equal to
  - `le(edge_name, value)`: less than or equal to
  - `gt(edge_name, value)`: greater than
  - `lt(edge_name, value)`: less than

There are also regular expressions, full text search, and geo search, but those are bigger topics that we'll cover later in [the search section of the tutorial]({{< relref "search/1" >}}).


Except for comparison functions 
(`eq`, `ge`, `gt`, `le`, `lt`) used in filter, functions can only be applied to predicates that have been indexed.

We'll cover indexes in detail later in the [schema lesson]({{< relref "schema/1" >}}).
