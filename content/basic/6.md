+++
date = "2017-04-26T22:36:47+10:00"
next = "/basic/7"
prev = "/basic/5"
title = "Functions and filtering"
weight = 6
course = 2
courseName = "Basic"
+++

Functions filter nodes by examining their outgoing edges.

The previous queries applied filters only at the root level. 
Filters can also appear on any internal block in the query. 
The syntax differs slightly between root-level and query internal filtering. Compare the syntax difference between the root 
filter function (`func:`) in the query on the right the and the internal filter function applied with the `@filter` directive inside it. 

Dgraph offers a variety of filtering functions, for example: 

- `allofterms(edge_name, "term1 ... termN")`: matches nodes whose outgoing `string` edge `edge_name` contains all listed terms.
  
- `anyofterms(edge_name, "term1 ... termN")`: matches nodes whose outgoing `string` edge `edge_name` contains at least one listed term.

- Comparison functions, which apply to edges of types `int`, `float`, `string`, and `date`:
  - `eq(edge_name, value)`: equal to
  - `ge(edge_name, value)`: greater than or equal to
  - `le(edge_name, value)`: less than or equal to
  - `gt(edge_name, value)`: greater than
  - `lt(edge_name, value)`: less than


As well, functions such things as filtering using [regular expressions](https://docs.dgraph.io/dql/query/functions#regular-expressions), [full-text search](https://docs.dgraph.io/dql/query/functions#full-text-search), and [geospatial queries](https://docs.dgraph.io/dql/query/functions#geolocation). The [search section of this tutorial]({{< relref "search/1" >}}) covers these in depth.

Most functions require an indexed predicate. Comparison functions (`eq`, `ge`, `gt`, `le`, `lt`) are the exception: they work inside `@filter` without an index, but still require one at root `func:`. Filtering on unindexed predicates can be slow for large datasets.

The [schema lesson]({{< relref "schema/1" >}}) covers indexes in detail.
