+++
date = "2017-04-26T22:36:47+10:00"
next = "/basic/7"
prev = "/basic/5"
title = "Functions and filtering"
weight = 6
course = 2
courseName = "Basic"
+++

Functions filter nodes by examining their outgoing edges.

The previous queries applied filters at the root level only. Filters can also
appear inside any block. Compare the root filter function (`func:`) in the
query on the right with the `@filter` directive applied inside it.

Dgraph offers several filtering functions:

- `allofterms(edge_name, "term1 ... termN")`: matches nodes whose outgoing `string` edge `edge_name` contains all listed terms.
  
- `anyofterms(edge_name, "term1 ... termN")`: matches nodes whose outgoing `string` edge `edge_name` contains at least one listed term.

- Comparison functions, which apply to edges of types `int`, `float`, `string`, and `date`:
  - `eq(edge_name, value)`: equal to
  - `ge(edge_name, value)`: greater than or equal to
  - `le(edge_name, value)`: less than or equal to
  - `gt(edge_name, value)`: greater than
  - `lt(edge_name, value)`: less than


Dgraph also supports filtering with [regular expressions](https://docs.dgraph.io/dql/query/functions#regular-expressions), [full-text search](https://docs.dgraph.io/dql/query/functions#full-text-search), and [geospatial queries](https://docs.dgraph.io/dql/query/functions#geolocation). The [search section]({{< relref "search/1" >}}) covers these in depth.

Most functions require an indexed predicate. Comparison functions (`eq`, `ge`, `gt`, `le`, `lt`) work inside `@filter` without an index but still require one at root `func:`.

The [schema lesson]({{< relref "schema/1" >}}) covers indexes in detail.
