+++
date = "2017-05-15T15:31:42+10:00"
next = "/search/4"
prev = "/search/2"
title = "Regular Expressions"
weight = 3
course = 6
courseName = "Search"
+++

Regular expressions require the `trigram` index. A trigram is a substring of 3
consecutive characters, or runes. To extract trigrams from a word, imagine
sliding a 3-character window across the text, one character at a time:

```
trigram
^^^        → tri
 ^^^       → rig
  ^^^      → igr
   ^^^     → gra
    ^^^    → ram
```

So the trigrams of "trigram" are: **tri**, **rig**, **igr**, **gra**, and **ram**.

Dgraph converts valid regular expressions into trigram queries against the
index, finds possible matches, and then runs the full regular expression against
those candidates.

Each regular expressions must match at least one trigram.

Choose your regular expressions carefully. A query that matches many trigrams
forces Dgraph to check more candidates against the full expression, slowing the
search. Conversely, a regular expression that enforces many specific trigrams
lets Dgraph use the index well and narrows the candidate set.

Write efficient regular expressions by using long substrings and limiting
alternation.

An optional `i` may follow the final `/` to indicate case insensitive search.

Natalie Portman is the only actor in our database who has acted in an alien
movie and has the word alien embedded in her name.
