+++
date = "2017-05-01T10:41:33+10:00"
next = "/schema/8"
prev = "/schema/6"
title = "Example: Linking existing data"
weight = 7
course = 3
courseName = "Schema"
endpoint = "/mutate"
+++

We have added a new schema and loaded company data. Now we need to integrate
the friends dataset with the company data.

Blank nodes exist only during a single mutation. To reference a node created in
a previous mutation, the mutation must use the actual `uid` that Dgraph assigned
to each node. Every instance assigns its own UIDs, so the values on your machine
differ from anyone else's.

Dgraph's **upsert block** solves this in a single request. The `query` section
looks up each node by name and binds its `uid` to a variable. The `mutation`
section references those variables with `uid(variable_name)` to create the new
edges.

Run the upsert on the right to make Michael the boss of Sarah and assign Sarah
to CompanyABC â€” all in one atomic operation.

For more on upsert blocks, see the
[Upserts documentation](https://docs.dgraph.io/dql/upserts/).
